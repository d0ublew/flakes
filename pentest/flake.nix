{
  description = "A basic flake with a shell";
  inputs.nixpkgs.url = "github:NixOS/nixpkgs/nixos-25.05";
  inputs.nixpkgs-unstable.url = "github:NixOS/nixpkgs/nixos-unstable";
  inputs.systems.url = "github:nix-systems/default";
  inputs.flake-utils = {
    url = "github:numtide/flake-utils";
    inputs.systems.follows = "systems";
  };

  outputs =
    {
      nixpkgs,
      nixpkgs-unstable,
      flake-utils,
      ...
    }:
    flake-utils.lib.eachDefaultSystem (
      system:
      let
        pkgs = nixpkgs.legacyPackages.${system};
        pkgs-unstable = nixpkgs-unstable.legacyPackages.${system};
      in
      {
        devShells.default = pkgs.mkShell {
          packages =
            with pkgs;
            [
              bashInteractive
              php
              mariadb-client
              chisel

              metasploit

              # wordlists
              naabu
              nmap
              feroxbuster
              ffuf
              hashcat
              john
              thc-hydra

              # libfaketime
              smbclient-ng
              evil-winrm
              responder
              kerbrute
              ldeep
              coercer
              bloodhound-py
            ]
            ++ (with pkgs-unstable; [
              netexec
              certipy
            ])
            ++ (with pkgs.python312Packages; [
              bloodyad
              dirsearch
            ]);
          shellHook = ''
            # uv tool install git+https://github.com/ThePorgs/impacket
            # uv tool install git+https://github.com/dirkjanm/BloodHound.py
            # uv tool install git+https://github.com/CravateRouge/bloodyAD
            # uv tool install git+https://github.com/ly4k/Certipy
            # uv tool install git+https://github.com/maurosoria/dirsearch
            # uv tool install git+https://github.com/login-securite/DonPAPI
            # uv tool install git+https://github.com/ShutdownRepo/pywhisker

            # https://github.com/AlmondOffSec/PassTheCert
          '';
        };
      }
    );
}
